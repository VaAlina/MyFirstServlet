=====================
FormServlet version 2
=====================
package ua.kiev.prog;
import java.io.IOException;
import javax.servlet.http.*;
@SuppressWarnings("serial")
public class FormsServlet extends HttpServlet {
private static final String HTML = "<html>"
+ "<head><title>Test</title>"
+ "<link rel='stylesheet' href='style.css'><meta charset='utf-8'></head>"
+ "<body><div class= 'center'> %s </div></body></html>";
public void doPost(HttpServletRequest req, HttpServletResponse resp)
throws IOException {
final String firstName = req.getParameter("firstname");
final String lastName = req.getParameter("lastname");
final String occupation = req.getParameter("occupation");
final String answer = req.getParameter("question");
final String getAge = req.getParameter("age");

final String check1 = req.getParameter("check1");
final String check2 = req.getParameter("check2");
final String check3 = req.getParameter("check3");
final String check4 = req.getParameter("check4");


String r1;
String r3 = req.getRemoteAddr();

int counter=0;
String result;

if ("age".equals("20"))
r1 = "You are almost 20!!!";
else
r1 = "Wellcome " + firstName;


if ("female".equals(answer))
r1 = "Sorry. No female!!!";
else
r1 = "Wellcome " + firstName;

if("true".equals(check1))
counter++; 

if("true".equals(check2))
counter++;

if("true".equals(check3))
counter++;

if(counter == 0){
	result = "<p class = 'alert'>You should give at least one correct answer</p>";//"Вы не ответили правильно ни на один вопрос.";
}else{result = " <br/> You ansvered at "+counter+" qwestions correctly";
		}


final String r = String.format(HTML, firstName + "<br/>" + lastName
+ "<br/>" + occupation + "<br/>" + r1+"<br/>"+"Your ip is "+r3+result);
resp.getWriter().println(r);
}
}


=======
web.xml
=======
<?xml version="1.0" encoding="utf-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns="http://java.sun.com/xml/ns/javaee"
xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" version="2.5">
<servlet>
	<servlet-name>Forms</servlet-name>
	<servlet-class>ua.kiev.prog.FormsServlet</servlet-class>
</servlet>
<servlet-mapping>
	<servlet-name>Forms</servlet-name>
	<url-pattern>/forms</url-pattern>
</servlet-mapping>
<welcome-file-list>
	<welcome-file>index.html</welcome-file>
</welcome-file-list>
</web-app>

==========
index.html
==========
<!DOCTYPE HTML>
<!-- The HTML 4.01 Transitional DOCTYPE declaration-->
<!-- above set at the top of the file will set -->
<!-- the browser's rendering engine into -->
<!-- "Quirks Mode". Replacing this declaration -->
<!-- with a "Standards Mode" doctype is supported, -->
<!-- but may lead to some differences in layout. -->
<html>
<head>
<meta http-equiv="content-type“ content=" text/html; charset=UTF-8">
<meta charset="utf-8">
<link rel="stylesheet" href="style.css">
<title>Test</title>
</head>
<body>
<div class="center">
<form action="/forms" method="POST">
Имя: <input type="text" name="firstname"><br>
Фамилия: <input type="text" name="lastname"><br>
email: <input type="text" name="occupation"><br>
Пол:<br> <input type="radio" name="question" value="male">м<br>
<input type="radio" name="question" value="female">ж<br>
</div>

<div class="center">
Какого семейства технологий "Java" не существует?<br> 
<input type="radio" name="check1" value="false">Java FX<br>
<input type="radio" name="check1" value="false">Java Card<br>
<input type="radio" name="check1" value="false">Java ME<br>
<input type="radio" name="check1" value="true">Java HW<br>
 
Дата официального выпуска Java 1.0.<br> 
<input type="radio" name="check2" value="true">23 мая 1995<br>
<input type="radio" name="check2" value="false">9 марта 1999<br>
<input type="radio" name="check2" value="false">2 февраля 2001<br>
<input type="radio" name="check2" value="false">18 июля 1993<br>



<button>Отправить</button>
</form>
</div>
</body>
</html>


===========
FormServlet
===========
package ua.kiev.prog;
import java.io.IOException;
import javax.servlet.http.*;
@SuppressWarnings("serial")
public class FormsServlet extends HttpServlet {
private static final String HTML = "<html>"
+ "<head><title>Test</title><link rel='stylesheet' href='style.css'></head>"
+ "<body><div class= 'center'> %s </div></body></html>";
public void doPost(HttpServletRequest req, HttpServletResponse resp)
throws IOException {
final String firstName = req.getParameter("firstname");
final String lastName = req.getParameter("lastname");
final String occupation = req.getParameter("occupation");
final String answer = req.getParameter("question");


final String check1 = req.getParameter("check1");
final String check2 = req.getParameter("check2");
final String check3 = req.getParameter("check3");
final String check4 = req.getParameter("check4");


String r1;
String r3 = req.getRemoteAddr();

//Объявление строк для тестов по Java
String ch1;
String ch2;
String ch3;
String ch4;

int counter=0;

if ("female".equals(answer))
r1 = "Sorry. No female!!!";
else
r1 = "Wellcome " + firstName;


if("true".equals(check1))
counter++; //ch1 = "Exellent!";
else ch1 = "Try again!";

if("true".equals(check2))
counter++;//ch2 = "Exellent!";
else ch2 = "Try again!";


final String r = String.format(HTML, firstName + "<br/>" + lastName
+ "<br/>" + occupation + "<br/>" + r1+"<br/>"+"Your ip is "+r3+" <br/> You ansvered at "+counter+" qwestions correctly");
resp.getWriter().println(r);
}
}
